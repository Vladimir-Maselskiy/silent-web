"use strict";(async()=>{const e=["article.article","li.recommended-item","div.image-ct","article[data-video-id]"],t=[],i=import(chrome.runtime.getURL("utils/hideTargets.js")),s=import(chrome.runtime.getURL("utils/getDefaultSelectors.js")),r=import(chrome.runtime.getURL("utils/getShadowDomTargetContent.js")),n=import(chrome.runtime.getURL("utils/hideShadowDomTargets.js")),[o,a,c,l]=await Promise.all([i,s,r,n]),d=a.getDefaultSelectors();let m=null;async function u(){await chrome.runtime.sendMessage({type:"GET_IS_BLOCKING"})?async function(){const i=await async function(){return await chrome.runtime.sendMessage({type:"GET_TARGETS"})}(),s=await chrome.runtime.sendMessage({type:"GET_STYLE"});o.hideTargets({targets:i,hideStyle:s,selectors:d,containerSelectors:e}),l.hideShadowDomTargets({targets:i,hideStyle:s,shadowDomSelectors:t,getShadowDomTargetContentModule:c}),function({targets:t,hideStyle:i}){m&&m.disconnect(),m=new MutationObserver((s=>{o.hideTargets({targets:t,hideStyle:i,selectors:d,containerSelectors:e})})),m.observe(document.body,{childList:!0,subtree:!0,characterData:!0})}({targets:i,hideStyle:s})}():async function(){m&&m.disconnect();document.querySelectorAll(".silent-blocking-extension").forEach((e=>{e.classList.remove("silent-blocking-extension"),e.classList.remove("hidden"),e.removeAttribute("data-silent-blocking-extension")}))}()}u(),chrome.runtime.onMessage.addListener((async(e,t,i)=>{if("REINIT_BLOCKING"===e.type)return u(),i(!0)}))})();