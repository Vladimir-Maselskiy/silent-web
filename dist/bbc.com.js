"use strict";(async()=>{const e=['div[data-testid="dundee-card"]','div[data-testid="dundee-article"]','div[data-testid="edinburgh-card"]','div[data-testid="southend-card"]','div[data-testid="edinburgh-video"]','div[data-testid="chester-article"]','div[data-testid="westminster"]','div[data-testid="manchester-card"]','div[data-testid="windsor-article"]','div[data-testid="ipswich-card"]','div[data-testid="windsor-card"]','div[data-testid="aberdeen-card"]','div[data-testid="liverpool-card"]','div[data-testid="glastonbury-card"]'],t=[],i=import(chrome.runtime.getURL("utils/hideTargets.js")),a=import(chrome.runtime.getURL("utils/getDefaultSelectors.js")),d=import(chrome.runtime.getURL("utils/getShadowDomTargetContent.js")),s=import(chrome.runtime.getURL("utils/hideShadowDomTargets.js")),[r,n,o,c]=await Promise.all([i,a,d,s]),l=n.getDefaultSelectors();let u=null;async function h(){await chrome.runtime.sendMessage({type:"GET_IS_BLOCKING"})?async function(){const i=await async function(){return await chrome.runtime.sendMessage({type:"GET_TARGETS"})}(),a=await chrome.runtime.sendMessage({type:"GET_STYLE"});r.hideTargets({targets:i,hideStyle:a,selectors:l,containerSelectors:e}),c.hideShadowDomTargets({targets:i,hideStyle:a,shadowDomSelectors:t,getShadowDomTargetContentModule:o}),function({targets:t,hideStyle:i}){u&&u.disconnect(),u=new MutationObserver((a=>{r.hideTargets({targets:t,hideStyle:i,selectors:l,containerSelectors:e})})),u.observe(document.body,{childList:!0,subtree:!0,characterData:!0})}({targets:i,hideStyle:a})}():async function(){u&&u.disconnect();document.querySelectorAll(".silent-blocking-extension").forEach((e=>{e.classList.remove("silent-blocking-extension"),e.classList.remove("hidden"),e.removeAttribute("data-silent-blocking-extension")}))}()}h(),chrome.runtime.onMessage.addListener((async(e,t,i)=>{if("REINIT_BLOCKING"===e.type)return h(),i(!0)}))})();