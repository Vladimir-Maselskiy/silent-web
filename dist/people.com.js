"use strict";(async()=>{const e=['div[id*="news-feed"].news-feed','a[id*="mntl-card-list-items"]','div[id*="star-tracks__inner-wrapper--body"]','a[id*="primary-block__topStory"]','div[id*="recirc-lead__card-list-items"]',"div.ob-dynamic-rec-container[data-pos]",'figure[id*="figure-article"]','figure[id*="mntl-sc-block"]','li[id*="mntl-carousel__item"]'],t=import(chrome.runtime.getURL("utils/hideTargets.js")),i=import(chrome.runtime.getURL("utils/getDefaultSelectors.js")),n=import(chrome.runtime.getURL("utils/getShadowDomTargetContent.js")),r=import(chrome.runtime.getURL("utils/hideShadowDomTargets.js")),[s,o,a,c]=await Promise.all([t,i,n,r]),l=o.getDefaultSelectors();let d=null;async function m(){await chrome.runtime.sendMessage({type:"GET_IS_BLOCKING"})?async function(){const t=await async function(){return await chrome.runtime.sendMessage({type:"GET_TARGETS"})}(),i=await chrome.runtime.sendMessage({type:"GET_STYLE"});s.hideTargets({targets:t,hideStyle:i,selectors:l,containerSelectors:e}),function({targets:t,hideStyle:i}){d&&d.disconnect(),d=new MutationObserver((n=>{u({targets:t,hideStyle:i,selectors:l,containerSelectors:e})})),d.observe(document.body,{childList:!0,subtree:!0,characterData:!0})}({targets:t,hideStyle:i})}():async function(){d&&d.disconnect();document.querySelectorAll(".silent-blocking-extension").forEach((e=>{e.classList.remove("silent-blocking-extension"),e.classList.remove("hidden"),e.removeAttribute("data-silent-blocking-extension")}))}()}const u=function(e,t){let i=0;return function(...n){const r=Date.now();r-i>=t&&(i=r,e(...n))}}(s.hideTargets,1e3);m(),chrome.runtime.onMessage.addListener((async(e,t,i)=>{if("REINIT_BLOCKING"===e.type)return m(),i(!0)}))})();