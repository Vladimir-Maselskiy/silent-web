"use strict";(async()=>{const e=["article",'div[role="listitem"]',"li.dre-slide-band-track__item","a.carousel-item","a.packshot.packshot-list__packshot","div.d1-drtv-episode",'li[class^="LiveBar_Channel"]','li[class^="HeroBand_item"]','li[class^="ChannelSchedule_item"]','div[class^="Spot_spot"]',"div.dre-teaser"],t=[{selector:"faceplate-screen-reader-content",containerSelector:'div[data-testid="search-post-unit"]'}],s=import(chrome.runtime.getURL("utils/hideTargets.js")),i=import(chrome.runtime.getURL("utils/getDefaultSelectors.js")),a=import(chrome.runtime.getURL("utils/getShadowDomTargetContent.js")),r=import(chrome.runtime.getURL("utils/hideShadowDomTargets.js")),[n,o,c,l]=await Promise.all([s,i,a,r]),d=o.getDefaultSelectors();let m=null;async function h(){await chrome.runtime.sendMessage({type:"GET_IS_BLOCKING"})?async function(){const s=await async function(){return await chrome.runtime.sendMessage({type:"GET_TARGETS"})}(),i=await chrome.runtime.sendMessage({type:"GET_STYLE"});n.hideTargets({targets:s,hideStyle:i,selectors:d,containerSelectors:e}),l.hideShadowDomTargets({targets:s,hideStyle:i,shadowDomSelectors:t,getShadowDomTargetContentModule:c}),function({targets:t,hideStyle:s}){m&&m.disconnect(),m=new MutationObserver((i=>{n.hideTargets({targets:t,hideStyle:s,selectors:d,containerSelectors:e})})),m.observe(document.body,{childList:!0,subtree:!0,characterData:!0})}({targets:s,hideStyle:i})}():async function(){m&&m.disconnect();document.querySelectorAll(".silent-blocking-extension").forEach((e=>{e.classList.remove("silent-blocking-extension"),e.classList.remove("hidden"),e.removeAttribute("data-silent-blocking-extension")}))}()}h(),chrome.runtime.onMessage.addListener((async(e,t,s)=>{if("REINIT_BLOCKING"===e.type)return h(),s(!0)}))})();